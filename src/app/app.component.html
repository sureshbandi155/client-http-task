<div class="container">
  <div id="form" class="mt-5">
    <div class="container">
      <div class="row">

        <div class="col-sm-3"></div>
        <div class="col-sm-6">
          <div id="edit-form" *ngIf="!isUpdating">
            <h4 class="text-uppercase text-center mb-3">add course details</h4>
            <form #courseDetails="ngForm" (ngSubmit)="onCreatePost(formData, courseDetails)">
              <div class="form-group">
                <input type="text" name="courseName" placeholder="Course Name" class="form-control"
                  [(ngModel)]="formData.courseName" required>
              </div>
              <div class="form-group">
                <textarea rows="4" name="description" placeholder="Description" class="form-control"
                  [(ngModel)]="formData.description" required></textarea>
              </div>
              <button type="submit" class="btn btn-primary" [disabled]="!courseDetails.valid">Send Post</button>
            </form>
          </div>
          <div id="update-form" *ngIf="isUpdating">
            <h4 class="text-uppercase text-center mb-3">Edit course details</h4>
            <form #courseDetails="ngForm" (ngSubmit)="onCreatePost(formData, courseDetails)">
              <div class="form-group">
                <input type="text" name="courseName" placeholder="Course Name" class="form-control"
                  [(ngModel)]="formData.courseName" required>
              </div>
              <div class="form-group">
                <textarea rows="4" name="description" placeholder="Description" class="form-control"
                  [(ngModel)]="formData.description" required></textarea>
              </div>
              <button type="submit" class="btn btn-primary" [disabled]="!courseDetails.valid">Edit course</button>
            </form>
          </div>
        </div>
        <div class="col-sm-3"></div>
      </div>
    </div>
  </div>

  <p class="text-center" *ngIf="loadedCourse.length < 1 && !isFetching">No Posts are available</p>
  <div id="table" class="mt-5" *ngIf="loadedCourse.length >= 1 && !isFetching">
    <h3 class="text-center text-uppercase mb-3">course Details</h3>
    <table class="table table-bordered text-center">
      <tr>
        <th>Id</th>
        <th>Course Name</th>
        <th>Description</th>
        <th>Update</th>
        <th>Delete</th>
      </tr>
      <tr *ngFor="let course of loadedCourse">
        <td>{{course.id}}</td>
        <td>{{course.courseName}}</td>
        <td>{{course.description}}</td>
        <td><button class="btn btn-success" (click)="updateCourse(course.id ,course)">Update</button></td>
        <td><button class="btn btn-danger" (click)="deleteUser(course.id)">Delete</button></td>
      </tr>

    </table>

  </div>
  <p class="text-center" *ngIf="isFetching">Loading...</p>
</div>
